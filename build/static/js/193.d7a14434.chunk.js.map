{"version":3,"file":"static/js/193.d7a14434.chunk.js","mappings":"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","sources":["EditorView/FrameEditorView/ItrEditor.tsx","../node_modules/classnames/index.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Button } from \"../../Component/Buttons/Button\";\r\nimport Combine from \"../../Component/Combine\";\r\nimport { Flex } from \"../../Component/Flex\";\r\nimport Frame, { IFrameProps } from \"../../Component/Frame\";\r\nimport { Input } from \"../../Component/Input\";\r\nimport Select from \"../../Component/Select\";\r\nimport Show from \"../../Component/Show\";\r\nimport { TextArea } from \"../../Component/TextArea\";\r\nimport Titled, { ITitledProps } from \"../../Component/Titled\";\r\nimport { Defines, HitFlag, IItrInfo, itr_effect_full_name, itr_kind_full_name, ItrEffect, ItrKind } from \"../../LF2/defines\";\r\nimport { floor } from \"../../LF2/utils\";\r\nimport { ITR_EFFECT_SELECT_PROPS, ITR_KIND_SELECT_PROPS } from \"../EntityEditorView\";\r\nimport { HitFlagEditor } from \"./HitFlagEditor\";\r\nimport { make_field_props, make_not_blank_field_props } from \"./make_field_props\";\r\nimport { QubeEdit } from \"./QubeEdit\";\r\n\r\nexport interface IItrEditorViewProps extends IFrameProps {\r\n  label?: string;\r\n  value?: IItrInfo;\r\n  defaultValue?: IItrInfo\r\n  onChange?(value?: IItrInfo): void;\r\n  onRemove?(): void;\r\n}\r\nconst titled_styles: ITitledProps['styles'] = {\r\n  label: {\r\n    width: 70,\r\n    textAlign: 'end'\r\n  }\r\n}\r\nconst default_value: IItrInfo = {\r\n  hit_flag: HitFlag.AllEnemy,\r\n  kind: ItrKind.Normal,\r\n  effect: ItrEffect.Normal,\r\n  z: floor(-Defines.DAFUALT_QUBE_LENGTH / 2),\r\n  l: floor(Defines.DAFUALT_QUBE_LENGTH),\r\n  x: 0,\r\n  y: 0,\r\n  w: 0,\r\n  h: 0\r\n}\r\nexport function ItrEditor(props: IItrEditorViewProps) {\r\n  const { label = 'itr info', value, defaultValue = default_value, onRemove, onChange, ..._p } = props;\r\n  const kind = value?.kind ?? defaultValue.kind;\r\n  const is_vrest = !!value && 'vrest' in value;\r\n  return (\r\n    <Frame key={label} label={label} tabIndex={-1} {..._p}>\r\n      <Button style={{ position: 'absolute', right: 0, top: 0, border: 'none' }} onClick={onRemove}>\r\n        üóëÔ∏è\r\n      </Button>\r\n      <Flex direction='column' align='stretch' gap={5}>\r\n        <Titled label='Á±ªÂûã' styles={titled_styles}>\r\n          <Combine>\r\n            <Select\r\n              {...ITR_KIND_SELECT_PROPS}\r\n              {...make_field_props(props, default_value, 'kind', (v) => {\r\n                v.kind_name = itr_kind_full_name(v.kind);\r\n                if (v.kind !== ItrKind.Normal) {\r\n                  delete v.effect;\r\n                  delete v.effect_name;\r\n                }\r\n                return v;\r\n              })}\r\n              data-flex={1}\r\n            />\r\n            <Show show={kind === ItrKind.Normal} data-flex={1}>\r\n              <Select\r\n                {...ITR_EFFECT_SELECT_PROPS}\r\n                {...make_field_props(props, default_value, 'effect', (v) => {\r\n                  v.effect_name = itr_effect_full_name(v.effect)\r\n                  return v;\r\n                })}\r\n              />\r\n            </Show>\r\n          </Combine>\r\n        </Titled>\r\n        <Titled label='Âà§ÂÆö' styles={titled_styles}>\r\n          <HitFlagEditor {...make_field_props(props, default_value, 'hit_flag')} />\r\n        </Titled>\r\n        <Flex direction='row'>\r\n          <Titled label='Ëá™Ë∫´ÂÅúÈ°ø' styles={titled_styles} style={{ flex: 1 }}>\r\n            <Input.Number\r\n              {...make_not_blank_field_props(props, default_value, 'motionless')}\r\n              clearable\r\n              placeholder={'' + Defines.DEFAULT_ITR_MOTIONLESS}\r\n              step={1} />\r\n          </Titled>\r\n          <Titled label='ÁõÆÊ†áÂÅúÈ°ø' style={{ flex: 1 }}>\r\n            <Input.Number\r\n              {...make_not_blank_field_props(props, default_value, 'shaking')}\r\n              clearable\r\n              placeholder={'' + Defines.DEFAULT_ITR_SHAKING}\r\n              step={1} />\r\n          </Titled>\r\n        </Flex>\r\n        <Titled label='rest' styles={titled_styles}>\r\n          <Combine>\r\n            <Select\r\n              items={['arest', 'vrest'] as const}\r\n              parse={v => [v, v]}\r\n              value={is_vrest ? 'vrest' : 'arest'}\r\n              onChange={(v: 'arest' | 'vrest' | undefined) => {\r\n                const next = { ...(value || defaultValue) };\r\n                const rest = next.arest || next.vrest || 0;\r\n                delete next.arest;\r\n                delete next.vrest;\r\n                next[v!] = rest\r\n                onChange?.(next)\r\n              }} />\r\n            <Input.Number\r\n              data-flex={1}\r\n              {...make_not_blank_field_props(props, default_value, is_vrest ? 'vrest' : 'arest')}\r\n              placeholder={'' + Defines.DEFAULT_ITR_MOTIONLESS}\r\n              clearable\r\n              step={1} />\r\n          </Combine>\r\n        </Titled>\r\n        <Flex direction='row'>\r\n          <Titled label='ÂáªÂÄíÂÄº' styles={titled_styles} style={{ flex: 1 }}>\r\n            <Input.Number {...make_not_blank_field_props(props, default_value, 'fall')} placeholder={'' + Defines.DEFAULT_ITR_FALL} clearable step={1} />\r\n          </Titled>\r\n          <Titled label='Á†¥Èò≤ÂÄº' style={{ flex: 1 }}>\r\n            <Input.Number {...make_not_blank_field_props(props, default_value, 'bdefend')} clearable step={1} />\r\n          </Titled>\r\n          <Titled label='‰º§ÂÆ≥ÂÄº' style={{ flex: 1 }}>\r\n            <Input.Number {...make_not_blank_field_props(props, default_value, 'injury')} clearable step={1} />\r\n          </Titled>\r\n        </Flex>\r\n        <Titled label='ÂåÖÂõ¥Áõí' styles={titled_styles}>\r\n          <QubeEdit\r\n            value={value}\r\n            defaultValue={defaultValue}\r\n            onChange={v => onChange?.({ ...defaultValue, ...value, ...v })} />\r\n        </Titled>\r\n        <Titled label='Êù°‰ª∂' styles={titled_styles}>\r\n          <TextArea {...make_not_blank_field_props(props, default_value, 'test')} style={{ resize: 'vertical' }} />\r\n        </Titled>\r\n        <Titled label='È¢ÑËÆæ' styles={titled_styles}>\r\n          <Input {...make_not_blank_field_props(props, default_value, 'prefab_id')} clearable />\r\n        </Titled>\r\n      </Flex>\r\n    </Frame>\r\n  )\r\n}\r\nItrEditor.genValue = (fn?: (edit: IItrInfo) => IItrInfo) => fn ? fn({ ...default_value }) : { ...default_value }\r\nexport default function ItrEditorTestView(props: {}) {\r\n  const [value, set_value] = useState<IItrInfo | undefined>(default_value)\r\n  return (\r\n    <Flex direction='column' gap={10}>\r\n      <TextArea style={{ resize: 'vertical', height: 500 }} readOnly value={JSON.stringify(value, null, 2)} />\r\n      <ItrEditor value={value} onChange={set_value} />\r\n    </Flex>\r\n  )\r\n};","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["titled_styles","label","width","textAlign","default_value","hit_flag","HitFlag","AllEnemy","kind","ItrKind","Normal","effect","ItrEffect","z","floor","Defines","DAFUALT_QUBE_LENGTH","l","x","y","w","h","ItrEditor","props","_value$kind","value","defaultValue","onRemove","onChange","_p","is_vrest","_jsxs","Frame","tabIndex","children","_jsx","Button","style","position","right","top","border","onClick","Flex","direction","align","gap","Titled","styles","Combine","Select","ITR_KIND_SELECT_PROPS","make_field_props","v","kind_name","itr_kind_full_name","effect_name","Show","show","ITR_EFFECT_SELECT_PROPS","itr_effect_full_name","HitFlagEditor","flex","Input","Number","make_not_blank_field_props","clearable","placeholder","DEFAULT_ITR_MOTIONLESS","step","DEFAULT_ITR_SHAKING","items","parse","next","rest","arest","vrest","DEFAULT_ITR_FALL","QubeEdit","TextArea","resize","ItrEditorTestView","set_value","useState","height","readOnly","JSON","stringify","genValue","fn","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","appendClass","parseValue","Array","isArray","apply","toString","Object","prototype","includes","key","call","newClass","module","exports","default"],"sourceRoot":""}